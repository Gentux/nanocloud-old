<!--
Nanocloud community, transform any application into SaaS solution

Copyright (C) 2015 Nanocloud Software

This file is part of Nanocloud community.

Nanocloud community is free software; you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

Nanocloud community is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<md-card>
  <md-card-content>
    <h2 class="md-title">Add applications</h2>
    <div flow-init="{target: '/upload'}"
         flow-files-submitted="$flow.upload()"
         flow-file-success="$file.msg = $message">

      <div class="drop-box"
        flow-drag-enter="style={border: '5px dashed #4183D7'}" flow-drag-leave="style={}" ng-style="style"
        flow-drop flow-btn>
        Drag And Drop your file here
      </div>

      <md-list>
        <md-list-item ng-repeat="file in $flow.files" class="md-2-line">
          <md-icon md-svg-icon="file"></md-icon>
          <div class="md-list-item-text">
            <h3>{{ $index + 1 }} - {{ file.name }} </h3>
            <p> {{ file.msg }} </p>
          </div>
        </md-list-item>
      </md-list>
    </div>
  </md-card-content>

  <div class="md-actions" layout="row" layout-align="end center">
    <md-button ng-href="/guacamole/client.xhtml?id=c%2FhapticDesktop" target="_blank"
      aria-label="Open Windows desktop to install your application" class="md-raised">
      <ng-md-icon icon="windows"></ng-md-icon> Desktop
    </md-button>
    <md-button ng-href="/guacamole/client.xhtml?id=c%2FhapticPowershell" target="_blank"
      aria-label="Publish an application" class="md-raised md-primary">
      <ng-md-icon icon="cloud_done"></ng-md-icon> Publish
    </md-button>
  </div>
</md-card>

<div ui-grid="applicationsCtrl.gridOptions" ui-grid-selection ui-grid-auto-resize></div>
